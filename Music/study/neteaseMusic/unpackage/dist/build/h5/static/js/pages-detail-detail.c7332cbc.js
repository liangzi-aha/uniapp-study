(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-detail-detail"],{3710:function(t,i,e){"use strict";var a=e("4ea4");e("d3b7"),e("ac1f"),e("3ca3"),e("5319"),e("ddb0"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n=a(e("e143")),l={data:function(){return{songDetail:{al:{picUrl:""}},songSimi:[],songComment:[],songLyric:[],lyricIndex:0,isPlayMusic:!0,timer:"",isLoading:!0}},onLoad:function(t){this.getMusic(t.songId),n.default.prototype.$nextMusic=this.getMusic},onUnload:function(){this.cancelLyricIndex()},onHide:function(){this.cancelLyricIndex()},onShow:function(){this.listenLyricIndex()},methods:{getMusic:function(t){var i=this;this.$getNextMusic(t),this.lyricIndex=0,this.isLoading=!0;var e=this.$api,a=e.songDetail,n=e.songSimi,l=e.songComment,o=e.songLyric,d=e.songUrl;Promise.all([a(t),n(t),l(t),o(t),d(t)]).then((function(t){if(200==t[0].code&&(i.songDetail=t[0].songs[0],uni.setStorage({key:"songDetail",data:t[0].songs[0]})),200==t[1].code&&(i.songSimi=t[1].songs),200==t[2].code&&(i.songComment=t[2].hotComments),200==t[3].code){var e=t[3].lrc.lyric,a=/\[([^\]]+)\]([^\[]+)/g,n=[];e.replace(a,(function(t,e,a){n.push({time:i.$formatTimeToSec(e),lyric:a})})),i.songLyric=n,uni.setStorage({key:"songLyric",data:n})}200==t[4].code&&(uni.setStorage({key:"songUrl",data:t[4].data[0].url}),i.$CreateBgAudioManager(i.songDetail.name,i.listenLyricIndex,(function(t){i.isPlayMusic=t}),t[4].data[0].url||"",i.songDetail.al.picUrl||"",i.cancelLyricIndex)),i.isLoading=!1}))},handlePlay:function(){this.$bgAudioManager.paused?(this.$bgAudioManager.play(),this.listenLyricIndex()):(this.$bgAudioManager.pause(),this.cancelLyricIndex())},listenLyricIndex:function(){var t=this;clearInterval(this.timer),this.timer=setInterval((function(){for(var i=t.lyricIndex;i<t.songLyric.length;i++){if(t.$bgAudioManager.currentTime>t.songLyric[t.songLyric.length-1]){t.lyricIndex=i;break}if(t.$bgAudioManager.currentTime>t.songLyric[i].time&&t.$bgAudioManager.currentTime<t.songLyric[i+1].time){t.lyricIndex=i;break}}}),500)},cancelLyricIndex:function(){clearInterval(this.timer)},handleToSimi:function(t){this.$bgAudioManager.destroy(),this.cancelLyricIndex(),this.getMusic(t)}}};i.default=l},"38eb":function(t,i,e){"use strict";e.r(i);var a=e("9d5b"),n=e("a6e8");for(var l in n)"default"!==l&&function(t){e.d(i,t,(function(){return n[t]}))}(l);e("52ca");var o,d=e("f0c5"),s=Object(d["a"])(n["default"],a["b"],a["c"],!1,null,"48632d2f",null,!1,a["a"],o);i["default"]=s.exports},"52ca":function(t,i,e){"use strict";var a=e("bc23"),n=e.n(a);n.a},"9d5b":function(t,i,e){"use strict";e.d(i,"b",(function(){return n})),e.d(i,"c",(function(){return l})),e.d(i,"a",(function(){return a}));var a={musichead:e("c594").default},n=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("v-uni-view",{staticClass:"detail"},[a("v-uni-view",{staticClass:"fixbg",style:{"background-image":"url("+t.songDetail.al.picUrl+")"}}),a("musichead",{attrs:{title:t.songDetail.name,icon:!0,color:"white"}}),a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:!t.isLoading,expression:"!isLoading"}],staticClass:"container"},[a("v-uni-scroll-view",{attrs:{"scroll-y":"true"}},[a("v-uni-view",{staticClass:"detail-play",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.handlePlay.apply(void 0,arguments)}}},[a("v-uni-image",{class:{"detail-play-run":t.isPlayMusic},attrs:{src:t.songDetail.al.picUrl}}),a("v-uni-text",{staticClass:"iconfont",class:t.isPlayMusic?"icon-pause":"icon-bofang"}),a("v-uni-view",{class:{"pause-vidio":!t.isPlayMusic}})],1),a("v-uni-view",{staticClass:"detail-lyric"},[a("v-uni-view",{staticClass:"detail-lyric-wrap",style:{marginTop:82*-(t.lyricIndex-1)+"rpx"}},t._l(t.songLyric,(function(i,e){return a("v-uni-view",{key:e,staticClass:"detail-lyric-item",class:{active:t.lyricIndex==e}},[t._v(t._s(i.lyric))])})),1)],1),a("v-uni-view",{staticClass:"detail-like"},[a("v-uni-view",{staticClass:"detail-like-head"},[t._v("喜欢这首歌的人也听")]),t._l(t.songSimi,(function(i,n){return a("v-uni-view",{key:n,staticClass:"detail-like-item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleToSimi(i.id)}}},[a("v-uni-view",{staticClass:"detail-like-img"},[a("v-uni-image",{attrs:{src:i.album.picUrl}})],1),a("v-uni-view",{staticClass:"detail-like-song"},[a("v-uni-view",[t._v(t._s(i.name))]),a("v-uni-view",[i.privilege.flag>60&&i.privilege.flag<70?a("v-uni-image",{attrs:{mode:"heightFix",src:e("d6a8")}}):t._e(),999e3===i.privilege.maxbr?a("v-uni-image",{attrs:{mode:"heightFix",src:e("c4cd")}}):t._e(),t._v(t._s(i.album.artists[0].name)+"-"+t._s(i.name))],1)],1),a("v-uni-text",{staticClass:"iconfont icon-bofang1"})],1)}))],2),a("v-uni-view",{staticClass:"detail-comment"},[a("v-uni-view",{staticClass:"detail-comment-head"}),t._l(t.songComment,(function(i,e){return a("v-uni-view",{key:e,staticClass:"detail-comment-item"},[a("v-uni-view",{staticClass:"detail-comment-img"},[a("v-uni-image",{attrs:{src:i.user.avatarUrl}})],1),a("v-uni-view",{staticClass:"detail-comment-content"},[a("v-uni-view",{staticClass:"detail-comment-title"},[a("v-uni-view",{staticClass:"detail-comment-name"},[a("v-uni-view",[t._v(t._s(i.user.nickname))]),a("v-uni-view",[t._v(t._s(t._f("formatTime")(i.time)))])],1),a("v-uni-view",{staticClass:"detail-comment-like"},[t._v(t._s(t._f("formatCount")(i.likedCount))),a("v-uni-text",{staticClass:"iconfont icon-like"})],1)],1),a("v-uni-view",{staticClass:"detail-comment-text"},[t._v(t._s(i.content))])],1)],1)}))],2)],1)],1)],1)},l=[]},a6e8:function(t,i,e){"use strict";e.r(i);var a=e("3710"),n=e.n(a);for(var l in a)"default"!==l&&function(t){e.d(i,t,(function(){return a[t]}))}(l);i["default"]=n.a},bc23:function(t,i,e){var a=e("e522");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=e("4f06").default;n("32a5a969",a,!0,{sourceMap:!1,shadowMode:!1})},c4cd:function(t,i){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAVCAYAAAAnzezqAAADVklEQVRIib2W24sTVxzHP2eum03cW3SDK9ulDWlpKQVvCxspRWxB2r6Vvvgi+O6TT/4JC4XS/6AP0tf2QQQNRVZcg6LSC4t2QUpj6hZx414y6mQyc8rJTDYz2dmsvbBfGH45Oef8ft/fdUZIKaXvtnCdDXzXQwskClKEUg9ER/pauBZSRPtEaxLne/s7rTtasfZPYFoWBit/olfv8OzmDWq1Gi9NO9RIO5JGJINIav9xHeKTM2fg8FEM59o17ly5yslTJ3nj/HkwrD0hcOXiRT4dHcfINtaY2dxgNZclP3UQ7Ax7gbcbz+He3ZCelHJPjKbBUNUk0FizTfKuB67H71crzHzzNVqMl6pFRVQjLKofZ6b5eH4evv+BJ5cvc9B5kVAf1ShdFeKreTg2izTNxDmN3SBE77DWO74Vtdj+INQfP94hAqovxPYUNIZsstks90ul1IuNfSMwPgFeG1c3eFB8E290jKZtJc6Vq7c7MtNuQRDQT9cgBV3vMuUyJ86eTfcrty+xfG9uDj77HKxkiOUXXw6MjIEICESSmRAC0w9gfQP+qClGkTbZC/n4GExOdpKtZs3q6Aj5woF/3EUGkcdbBGIdsV6tsrS83CEUqPDF8v1wYpxzqgh3QffuzgQCDUPqDHseqAq1TLLHj7B09Hhk0O9Uctf04d8e4TgOjmlAsznAesCWcwMKNbUGJqenmbxwIVyIPvbfXsKpVHb1/HVhdHPoqRZTeff88GrbjVT0jVLpY0h/m1f5v55C/Ql03yV9xPObL6DpgG0n/k+NwL1KhcZ3l7YRUOGcffos5BEvTODnhQVeLS6yGRGQIqyZU9HtW5UK5fc/gBPldAKurkPgQ8tnpOXy7spKZFaLFLYjOjoysGhpOqhnYoyXuk5xfS01Yo6pI6XOdHMTln7dmUAcagANFwpJhREBpAbSpqBaTqFYpFAokBvOJM8n3n4G9pAOudw2W4aqbzUF8q+8cIgMZZg6fRrUk1CUnNrHuj8OHWL/hx+l+ZG4b8WJxQavplpP5bPVag1Q8v/Cj9kymJtlubrIkZ9+gdI7YCdH6b/G1muwr43boNdqPBodY6r4FkI+X5U8eEhwfYF6vc66HUZk0PB4HfS+FXsElE7bCzdK6pOsVORvTO1Bg4kWMZEAAAAASUVORK5CYII="},d6a8:function(t,i){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAVCAYAAAAnzezqAAAFS0lEQVRIia2Wa2xTZRjHf6eXtett3boOBmxDx+puDCZxOIWgsrCICdcIfCGo0Y/e8JuJivEr3zF4Qf0kBFgwEoMhCISAbG64jcuYjjG6sUu79ba2O+3pOeacdpsdHZrokzTnvM973uf5v//nVkGOTSvRUARZltErzIkipBeCImjP/7qWkREEAR06FEVB0euwFtgxCN98R+zcObrz8wDDPALkzFP3D+uFoss4ljPAc59vFGPYWlsR7m/ZolRUVMBHH/6vAMgAYBEAfHYIr9eLwZmQQExC2cr0hjgDqRQY9aDoQKcHvQAqk4oCoQjk54PJlNu/yryswPgoiCKsLM8AWfBdIokjkZy7zryEw3j7+rTD414v04HA3JYoitzq7MztV42rClB9ShLR3l7a29pQZDlrX5azmTM8YkmWmfzxLGUTY9gCAULvHMTmsGs3MM2IWIcewJppMOpA0WsOpXic4O5d5OXlEco3zxG+BHhw7aqW3OaUSDKZJOKpw7Njx2MAFBSwdutWHh76mGVNTVirqpB8PlIoxONx7cfEBEFpBqezGIxG7ZjT6cRQXY3DVZQ7LCkR+vuJzOoEYQGA2RIMhsHvQyoqgpoaGBvh0uHDmAx6dLJCfiTKnfZ2gsg0v/0erHuapE7Hb+sa2fhiK9itkFRAiqXtmU2gS7t54LzGfe8gHoctHSpFyWYgJUncPXkS/Z1buG026O6GVVV4PB7K9rwKSQnO/gTbtsHli+mkRM3JfDbu3QuDIwx1XCfoHWXaO6CFpHh1PUmdQQtJ9bYdlLMRVNsaCUI2AL3BQMW+fegjUcxffo48HUXnCxA2mlBKS5EkiX63m7rCQiatVlz6THardC5ZCkYTFU47ri+OMh2JsLShAd79IA10cADiUair1W4+WxSP5IC1sBBsDojHtaQxJRJzaBcT1eDk0BBidw8znV2sMBpxu90wNaWVdDgQYPD0aUpLS3HX1mTZmgcwq4tE4GYPvnsDFKpgZIlIby+Dr7+BJSFRPBMj2HaKIZsV1/sH58DFB4coW14OnqeIn/mBgWgUWyzOsj27UUIhSl95mZKdOzW2FmVA2xge5vqpU6yvr0caGdGy/Nnm5jR9cREG/oDKShqMBrDbM+egrLYWBocInz9PLBTC09oKgSBcvoRdlhkPBimZK4BcDCCTEGfoPv8zqfgMNKzGHwhgfmIlzpYWrYNK0ShjJ06yYv16Rn69RoWjQKseWZLoOXYUadSHK9/Ck/v3g2+cm9fbqdq+nXA4zPgvF/FMToLVkhXILAZMZjNNBw5ANAYnvsdkMmG1WtOtOSVrnVDNC/R6QqEQ+P3gLtGSt1F1GorC3X56jhxhVW019Zs2Men34W5pwa3TEzx+HMNbb2LLMLcAQHpMChZremA8HKNQrd+xcfhzACZ9WEcfUn71KvT+ToV/AvLyoLoaJAnOnCV2+zZ3FYXGXbtgzVrk+/cI6gRcDge0tnDjk0+p/vorbM0bc5ehqohMTSEO3CPp9VJaV4fY1cWVK1cokRIUpiTcasADASwWC5Hubi2+anec7uigqKiIxg0bwGKBvj46b/VS/dzz6W4pGamsrNQmYGnJwHzOBV94SSkoL4dvj6VRhEP09/biWlGGa3m51u5VYMrfgSrpcRv0+ykoKcnWyzJDXTdI+CdwuVwUNTXlLt7XDhAeHs4xC8xmPM88kx7DgsBjyh9ncXEWsFmpUBuQlMjSabddYExrxeN2G4rRgLOjfXFPOcb5o/qFf1gW+S7zEjAa8NltCMrpNkW8cIF+Q+6D/14eD2CWAXWqqlIjy5g2b+YvCAFkzkd25RsAAAAASUVORK5CYII="},e522:function(t,i,e){var a=e("24fb"),n=e("1de5"),l=e("40ad"),o=e("5f9f");i=a(!1);var d=n(l),s=n(o);i.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.detail .detail-play[data-v-48632d2f]{width:%?580?%;height:%?580?%;background:url('+d+");background-size:cover;margin:%?214?% auto 0;position:relative}.detail .detail-play uni-image[data-v-48632d2f]{border-radius:50%;width:%?370?%;height:%?370?%;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;-webkit-animation:10s linear move-data-v-48632d2f infinite;animation:10s linear move-data-v-48632d2f infinite;-webkit-animation-play-state:paused;animation-play-state:paused}.detail .detail-play .detail-play-run[data-v-48632d2f]{-webkit-animation-play-state:running;animation-play-state:running}@-webkit-keyframes move-data-v-48632d2f{from{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes move-data-v-48632d2f{from{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.detail .detail-play uni-text[data-v-48632d2f]{width:%?100?%;height:%?100?%;font-size:%?100?%;color:#fff;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.detail .detail-play .pause-vidio[data-v-48632d2f]{-webkit-transform:rotate(-20deg);transform:rotate(-20deg)}.detail .detail-play uni-view[data-v-48632d2f]{width:%?230?%;height:%?360?%;background:url("+s+");position:absolute;left:%?100?%;right:0;top:%?-200?%;margin:auto;background-size:cover;-webkit-transform:.5s;transform:.5s;-webkit-transform-origin:%?10?% %?20?%;transform-origin:%?10?% %?20?%}.detail .detail-lyric[data-v-48632d2f]{font-size:%?32?%;line-height:%?82?%;height:%?246?%;text-align:center;overflow:hidden;color:#6f6e73}.detail .detail-lyric .detail-lyric-wrap[data-v-48632d2f]{-webkit-transform:.5s;transform:.5s}.detail .detail-lyric .detail-lyric-wrap .detail-lyric-item[data-v-48632d2f]{height:%?82?%}.detail .detail-lyric .detail-lyric-wrap .active[data-v-48632d2f]{color:#fff}.detail .detail-like[data-v-48632d2f]{margin:0 %?30?%}.detail .detail-like .detail-like-head[data-v-48632d2f]{font-size:%?36?%;color:#fff;margin:%?50?% 0}.detail .detail-like .detail-like-item[data-v-48632d2f]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;margin-bottom:%?28?%}.detail .detail-like .detail-like-item .detail-like-img[data-v-48632d2f]{width:%?82?%;height:%?82?%;border-radius:%?20?%;overflow:hidden;margin-right:%?20?%}.detail .detail-like .detail-like-item .detail-like-img uni-image[data-v-48632d2f]{width:100%;height:100%}.detail .detail-like .detail-like-item .detail-like-song[data-v-48632d2f]{-webkit-box-flex:1;-webkit-flex:1;flex:1;color:#c6c2bf}.detail .detail-like .detail-like-item .detail-like-song uni-view[data-v-48632d2f]:nth-child(1){font-size:%?28?%;color:#fff;margin-bottom:%?12?%}.detail .detail-like .detail-like-item .detail-like-song uni-view[data-v-48632d2f]:nth-child(2){font-size:%?22?%}.detail .detail-like .detail-like-item .detail-like-song uni-image[data-v-48632d2f]{height:%?22?%;margin-right:%?10?%}.detail .detail-like .detail-like-item uni-text[data-v-48632d2f]{font-size:%?50?%;color:#c6c2bf}.detail .detail-comment[data-v-48632d2f]{margin:0 %?30?%}.detail .detail-comment .detail-comment-head[data-v-48632d2f]{font-size:%?36?%;color:#fff;margin:%?50?% 0}.detail .detail-comment .detail-comment-item[data-v-48632d2f]{display:-webkit-box;display:-webkit-flex;display:flex;margin-bottom:%?28?%}.detail .detail-comment .detail-comment-item .detail-comment-img[data-v-48632d2f]{width:%?64?%;height:%?64?%;border-radius:50%;overflow:hidden;margin-right:%?15?%}.detail .detail-comment .detail-comment-item .detail-comment-img uni-image[data-v-48632d2f]{width:100%;height:100%}.detail .detail-comment .detail-comment-item .detail-comment-content[data-v-48632d2f]{-webkit-box-flex:1;-webkit-flex:1;flex:1;color:#cbcacf}.detail .detail-comment .detail-comment-item .detail-comment-content .detail-comment-title[data-v-48632d2f]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.detail .detail-comment .detail-comment-item .detail-comment-content .detail-comment-title .detail-comment-name uni-view[data-v-48632d2f]:nth-child(1){font-size:%?26?%}.detail .detail-comment .detail-comment-item .detail-comment-content .detail-comment-title .detail-comment-name uni-view[data-v-48632d2f]:nth-child(2){font-size:%?20?%}.detail .detail-comment .detail-comment-item .detail-comment-content .detail-comment-title .detail-comment-like[data-v-48632d2f]{font-size:%?28?%}.detail .detail-comment .detail-comment-item .detail-comment-content .detail-comment-title .detail-comment-like uni-text[data-v-48632d2f]{margin-left:%?8?%}.detail .detail-comment .detail-comment-item .detail-comment-content .detail-comment-text[data-v-48632d2f]{font-size:%?28?%;line-height:%?40?%;color:#fff;margin-top:%?20?%;border-bottom:%?1?% solid #e0e0e0;padding-bottom:%?40?%}",""]),t.exports=i}}]);