{"version":3,"sources":["webpack:///C:/Users/Administrator/Desktop/myMusic/music-front/myMusic/pages/detail/detail.vue?94f3","webpack:///C:/Users/Administrator/Desktop/myMusic/music-front/myMusic/pages/detail/detail.vue?b0b9","uni-app:///main.js","webpack:///C:/Users/Administrator/Desktop/myMusic/music-front/myMusic/pages/detail/detail.vue?139a","webpack:///C:/Users/Administrator/Desktop/myMusic/music-front/myMusic/pages/detail/detail.vue?834c","webpack:///C:/Users/Administrator/Desktop/myMusic/music-front/myMusic/pages/detail/detail.vue?53df","webpack:///C:/Users/Administrator/Desktop/myMusic/music-front/myMusic/pages/detail/detail.vue?a446","uni-app:///pages/detail/detail.vue"],"names":["createPage","Page"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAo/C,CAAgB,48CAAG,EAAC,C;;;;;;;;;;;ACAxgD;AACA,OAAO,KAAU,EAAE,kBAKd;;;;;;;;;;;;;kDCNL;AACA;AACA,+F;AACAA,UAAU,CAACC,eAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA+H;AAC/H;AAC0D;AACL;AACsC;;;AAG3F;AAC+M;AAC/M,gBAAgB,uNAAU;AAC1B,EAAE,4EAAM;AACR,EAAE,6FAAM;AACR,EAAE,sGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,iGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,8LAEN;AACP,KAAK;AACL;AACA,aAAa,sNAEN;AACP;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACjDA;AAAA;AAAA;AAAA;AAAkzB,CAAgB,k0BAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACsCt0B;AACA,sF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eACA,EACA,IADA,kBACA,CACA,SACA;AACA,oBACA,YADA,EAFA,EAKA;AACA,uBANA,EAOA;AACA,qBARA,EASA,4BATA,EAUA,QAVA,EAWA,QAXA,EAYA,mBAZA,EAYA;AACA,wBAbA,EAaA;AACA,mBAdA,EAcA;AACA,mBAfA,CAeA;AAfA,MAiBA,CAnBA,EAoBA,MApBA,kBAoBA,MApBA,EAoBA,CACA,6BADA,CAEA;AACA,4DACA,iBACA,6CADA,IAGA,CAJA,CAHA,CAQA;AACA,0DACA,mBACA,yBACA,CAFA,MAEA,CACA,0BACA,CACA,CAnCA,EAoCA,MApCA,oBAoCA,CACA;AACA,qBACA,CAvCA,EAwCA,MAxCA,oBAwCA,CACA;AACA,0BACA,CA3CA,EA4CA,QA5CA,sBA4CA,CACA;AACA,qBACA,CA/CA,EAgDA;AACA;AACA,YAFA,oBAEA,MAFA,EAEA;AACA;AACA;AACA;;AAEA,4BALA;AAMA,eANA,CAMA,WANA,cAMA,WANA,CAMA,KANA,cAMA,KANA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CADA;AAEA,4CAFA;;AAIA,WALA;AAMA;AACA,SAZA,MAYA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,6BADA;AAEA,gCAFA;;;AAKA;AACA,oCADA;AAEA;AACA;AACA,WAJA;AAKA,qDALA;AAMA,qDANA;AAOA,8BAPA;AAQA,yBARA;AASA,yBATA;AAUA,uBAVA;;;AAaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OA/CA;AAgDA,KAzDA;AA0DA;AACA,WA3DA,mBA2DA,EA3DA,EA2DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAlEA;AAmEA;AACA,aApEA,qBAoEA,EApEA,EAoEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA3EA;AA4EA;AACA,cA7EA,wBA6EA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KAnFA;AAoFA,cApFA,sBAoFA,GApFA,EAoFA;AACA;AACA,KAtFA;AAuFA;AACA,aAxFA,uBAwFA;AACA;AACA,KA1FA;AA2FA;AACA,gBA5FA,wBA4FA,IA5FA,EA4FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAlHA;AAmHA;AACA,kBApHA,4BAoHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAhBA,EAgBA,GAhBA;;AAkBA,OAvBA,MAuBA;AACA;AACA;AACA,KAhJA;AAiJA;AACA,aAlJA,uBAkJA;AACA;AACA,KApJA;AAqJA;AACA,sBAtJA,gCAsJA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KA7JA;AA8JA;AACA,iBA/JA,yBA+JA,MA/JA,EA+JA,OA/JA,EA+JA;AACA,mBADA,GACA,SADA,CACA,aADA;AAEA;AACA;AACA,OAFA;AAGA,KApKA;AAqKA;AACA,aAtKA,uBAsKA;AACA;AACA;AACA,uBADA,GACA,SADA,CACA,eADA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAJA;AAKA,OATA,MASA;AACA;AACA,+BADA;;AAGA;AACA,KAtLA,EAhDA,E","file":"pages/detail/detail.js","sourcesContent":["import mod from \"-!E:\\\\hbuilderx\\\\HBuilderX.3.2.3.20210825.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\hbuilderx\\\\HBuilderX.3.2.3.20210825.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\hbuilderx\\\\HBuilderX.3.2.3.20210825.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\hbuilderx\\\\HBuilderX.3.2.3.20210825.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\hbuilderx\\\\HBuilderX.3.2.3.20210825.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\hbuilderx\\\\HBuilderX.3.2.3.20210825.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\hbuilderx\\\\HBuilderX.3.2.3.20210825.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\hbuilderx\\\\HBuilderX.3.2.3.20210825.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\hbuilderx\\\\HBuilderX.3.2.3.20210825.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=style&index=0&id=3e159eb4&scoped=true&lang=scss&\"; export default mod; export * from \"-!E:\\\\hbuilderx\\\\HBuilderX.3.2.3.20210825.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\hbuilderx\\\\HBuilderX.3.2.3.20210825.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\hbuilderx\\\\HBuilderX.3.2.3.20210825.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\hbuilderx\\\\HBuilderX.3.2.3.20210825.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\hbuilderx\\\\HBuilderX.3.2.3.20210825.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\hbuilderx\\\\HBuilderX.3.2.3.20210825.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\hbuilderx\\\\HBuilderX.3.2.3.20210825.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\hbuilderx\\\\HBuilderX.3.2.3.20210825.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\hbuilderx\\\\HBuilderX.3.2.3.20210825.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=style&index=0&id=3e159eb4&scoped=true&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1634871780225\n      var cssReload = require(\"E:/hbuilderx/HBuilderX.3.2.3.20210825.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/detail/detail.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./detail.vue?vue&type=template&id=3e159eb4&scoped=true&\"\nvar renderjs\nimport script from \"./detail.vue?vue&type=script&lang=js&\"\nexport * from \"./detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./detail.vue?vue&type=style&index=0&id=3e159eb4&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\hbuilderx\\\\HBuilderX.3.2.3.20210825.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3e159eb4\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/detail/detail.vue\"\nexport default component.exports","export * from \"-!E:\\\\hbuilderx\\\\HBuilderX.3.2.3.20210825.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\hbuilderx\\\\HBuilderX.3.2.3.20210825.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!E:\\\\hbuilderx\\\\HBuilderX.3.2.3.20210825.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\hbuilderx\\\\HBuilderX.3.2.3.20210825.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\hbuilderx\\\\HBuilderX.3.2.3.20210825.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\hbuilderx\\\\HBuilderX.3.2.3.20210825.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=template&id=3e159eb4&scoped=true&\"","var components\ntry {\n  components = {\n    musichead: function() {\n      return import(\n        /* webpackChunkName: \"components/musichead/musichead\" */ \"@/components/musichead/musichead.vue\"\n      )\n    },\n    bingProgress: function() {\n      return import(\n        /* webpackChunkName: \"components/bing-progress/bing-progress\" */ \"@/components/bing-progress/bing-progress.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 = !_vm.isLoading ? _vm.urlReplace(_vm.songDetail.musicImg) : null\n  var m1 = !_vm.isLoading ? _vm.urlReplace(_vm.songDetail.musicImg) : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0,\n        m1: m1\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\hbuilderx\\\\HBuilderX.3.2.3.20210825.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\hbuilderx\\\\HBuilderX.3.2.3.20210825.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\hbuilderx\\\\HBuilderX.3.2.3.20210825.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\hbuilderx\\\\HBuilderX.3.2.3.20210825.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\hbuilderx\\\\HBuilderX.3.2.3.20210825.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\hbuilderx\\\\HBuilderX.3.2.3.20210825.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\hbuilderx\\\\HBuilderX.3.2.3.20210825.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\hbuilderx\\\\HBuilderX.3.2.3.20210825.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\hbuilderx\\\\HBuilderX.3.2.3.20210825.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\hbuilderx\\\\HBuilderX.3.2.3.20210825.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"detail\">\r\n\t\t<view v-if=\"!isLoading\" class=\"fixbg\"\r\n\t\t\t:style=\"{ 'background-image': 'url(' + urlReplace(songDetail.musicImg) + ')' }\"></view>\r\n\t\t<musichead :title=\"songDetail.musicName\" :icon=\"true\" color=\"white\"></musichead>\r\n\t\t<view class=\"container\" v-if=\"!isLoading\">\r\n\t\t\t<scroll-view scroll-y=\"true\">\r\n\t\t\t\t<view class=\"detail-play\" @tap=\"handlePlay\">\r\n\t\t\t\t\t<image :class=\"{ 'detail-play-run' : isPlayMusic}\" :src=\"urlReplace(songDetail.musicImg)\"></image>\r\n\t\t\t\t\t<text class=\"iconfont\" :class=\"isPlayMusic ? 'icon-pause' : 'icon-bofang'\"> </text>\r\n\t\t\t\t\t<view :class=\"{'pause-vidio' : !isPlayMusic}\"></view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"detail-lyric\" v-show=\"songLyric.length > 0\">\r\n\t\t\t\t\t<view class=\"detail-lyric-wrap\" :style=\"{'marginTop': -(lyricIndex-1) * 82 + 'rpx'}\">\r\n\t\t\t\t\t\t<view class=\"detail-lyric-item\" :class=\"{active : lyricIndex == index}\" v-for=\"(item,index) in songLyric\" :key=\"index\">\r\n\t\t\t\t\t\t\t{{item.lyric}}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<bing-progress strokeWidth=\"5px\" handleWidth=\"20px\" :value=\"value\"\r\n\t\t\t\t\thandleHeight=\"20px\" handleColor=\"#aca2a2\" noActiveColor=\"rgb(83,83,83)\"\r\n\t\t\t\t\tactiveColor=\"rgb(199,12,12)\" :showInfo=\"false\" handleBorderRadius=\"10px\" @dragend=\"sliderChange\" @dragstart=\"dragstart\">\r\n\t\t\t\t</bing-progress>\r\n\t\t\t\t<!-- 操作 -->\r\n\t\t\t\t<view class=\"playMusic-play\">\r\n\t\t\t\t\t<text :class=\"LoopPlayback ? 'iconfont icon-24gl-repeatOnce2' : 'iconfont icon-24gl-repeat2'\"  @click=\"handleLoopPlayback\"></text>\r\n\t\t\t\t\t<text class=\"iconfont icon-yduishangyiqu\" @tap.stop=\"UpMusic()\"></text>\r\n\t\t\t\t\t<text :class=\"isPlayMusic ? 'iconfont icon-pause' : 'iconfont icon-bofang'\"\r\n\t\t\t\t\t\t@tap.stop=\"handlePlay()\"></text>\r\n\t\t\t\t\t<text class=\"iconfont icon-yduixiayiqu\" @tap.stop=\"nextMusic(songDetail.id)\"></text>\r\n\t\t\t\t\t<text :class=\"isLoveMusic ? 'iconfont icon-aixin1 loveMusic' : 'iconfont icon-aixin'\" @click=\"loveMusic\"></text>\r\n\t\t\t\t</view>\r\n\t\t\t</scroll-view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport Vue from 'vue';\r\n\timport Token from '../../utils/token';\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\t// 歌曲详情\r\n\t\t\t\tsongDetail: {\r\n\t\t\t\t\tmusicImg: ''\r\n\t\t\t\t},\r\n\t\t\t\t// 是否播放状态\r\n\t\t\t\tisPlayMusic: true,\r\n\t\t\t\t// 接口是否加载完毕\r\n\t\t\t\tisLoading: true,\r\n\t\t\t\tbaseImgUrl: this.$imgBaseUrl,\r\n\t\t\t\tvalue: 0,\r\n\t\t\t\ttime: '',\r\n\t\t\t\tLoopPlayback: false, // 循环播放\r\n\t\t\t\tisLoveMusic: false,  // 是否添加到喜欢\r\n\t\t\t\tsongLyric: [], // 歌词数组\r\n\t\t\t\tlyricIndex: 0, // 歌词下标\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad(option) {\r\n\t\t\tthis.getMusic(option.songId);\r\n\t\t\t// 播放下首歌曲方法放到原型上\r\n\t\t\tVue.prototype.$nextMusic = function (musicId){\r\n\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\turl: '/pages/detail/detail?songId=' + musicId\r\n\t\t\t\t})\r\n\t\t\t};\r\n\t\t\t// 判断是否循环播放\r\n\t\t\tconst LoopPlayback = uni.getStorageSync('LoopPlayback');\r\n\t\t\tif(LoopPlayback){\r\n\t\t\t\tthis.LoopPlayback = true;\r\n\t\t\t} else{\r\n\t\t\t\tthis.LoopPlayback = false;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonHide() {\r\n\t\t\t// 清除计时器\r\n\t\t\tthis.clearTime();\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\t// 歌词计时器\r\n\t\t\tthis.sliderInterval();\r\n\t\t},\r\n\t\tonUnload() {\r\n\t\t\t// 清除计时器\r\n\t\t\tthis.clearTime();\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 获取歌曲详情 创建播放器\r\n\t\t\tgetMusic(songId) {\r\n\t\t\t\t// 获取下一首歌曲id\r\n\t\t\t\tthis.$getNextMusic(songId);\r\n\t\t\t\tthis.lyricIndex = 0;\r\n\r\n\t\t\t\tthis.isLoading = true;\r\n\t\t\t\tconst { musicDetail, lyric } = this.$api;\r\n\t\t\t\tPromise.all([ lyric(songId),musicDetail(songId) ]).then(res=>{\r\n\t\t\t\t\tif(res[0].success && res[0].data){\r\n\t\t\t\t\t\tlet lyric = res[0].data;\r\n\t\t\t\t\t\t// /[ :以\"[ \"开头 ():分组 [^\\]]: 匹配除了 ] 之外的任意字符串\r\n\t\t\t\t\t\tlet re = /\\[([^\\]]+)\\]([^\\[]+)/g;\r\n\t\t\t\t\t\tvar result = [];\r\n\t\t\t\t\t\tlyric.replace(re,($0,$1,$2)=>{\r\n\t\t\t\t\t\t\tresult.push({\r\n\t\t\t\t\t\t\t\ttime: this.$formatTimeToSec($1),\r\n\t\t\t\t\t\t\t\tlyric: $2.replace(/\\r\\n/g,'')\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.songLyric = result;\r\n\t\t\t\t\t} else{\r\n\t\t\t\t\t\tthis.songLyric = [];\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// 保存歌词\r\n\t\t\t\t\tuni.setStorageSync('lyric',this.songLyric);\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(res[1].success){\r\n\t\t\t\t\t\tthis.songDetail = res[1].data[0];\r\n\t\t\t\t\t\tuni.setStorage({\r\n\t\t\t\t\t\t\tkey: 'songDetail',\r\n\t\t\t\t\t\t\tdata: res[1].data[0]\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.$CreateBgAudioManager(\r\n\t\t\t\t\t\t\tthis.songDetail.musicName,\r\n\t\t\t\t\t\t\t(status) => {\r\n\t\t\t\t\t\t\t\tthis.isPlayMusic = status;\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tthis.urlReplace(this.songDetail.musicUrl),\r\n\t\t\t\t\t\t\tthis.urlReplace(this.songDetail.musicImg),\r\n\t\t\t\t\t\t\tthis.sliderInterval,\r\n\t\t\t\t\t\t\tthis.clearTime,\r\n\t\t\t\t\t\t\tthis.nextMusic,\r\n\t\t\t\t\t\t\tthis.UpMusic,\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// 初始化音乐详情，请求当前播放是否为喜欢歌曲\r\n\t\t\t\t\t\tconst token = uni.getStorageSync('userToken');\r\n\t\t\t\t\t\tif(token){\r\n\t\t\t\t\t\t\tconst userId = Token.verify(token).data.id;\r\n\t\t\t\t\t\t\tthis.playLoveMusic(userId,this.songDetail.id);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.isLoading = false;\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 上一曲\r\n\t\t\tUpMusic(id) {\r\n\t\t\t\t// 清除计时器\r\n\t\t\t\tthis.clearTime();\r\n\t\t\t\t// 播放进度条清0\r\n\t\t\t\tthis.value = 0;\r\n\t\t\t\tconst UpMusicId = uni.getStorageSync('UpMusicId');\r\n\t\t\t\tthis.getMusic(UpMusicId);\r\n\t\t\t},\r\n\t\t\t// 下一曲\r\n\t\t\tnextMusic(id) {\r\n\t\t\t\t// 清除计时器\r\n\t\t\t\tthis.clearTime();\r\n\t\t\t\t// 播放进度条清0\r\n\t\t\t\tthis.value = 0;\r\n\t\t\t\tconst nextMusicId = uni.getStorageSync('nextMusicId');\r\n\t\t\t\tthis.getMusic(nextMusicId);\r\n\t\t\t},\r\n\t\t\t// 暂停 播放\r\n\t\t\thandlePlay() {\r\n\t\t\t\tif (this.$bgAudioManager.paused) {\r\n\t\t\t\t\tthis.$bgAudioManager.play();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.$bgAudioManager.pause();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\turlReplace(url) {\r\n\t\t\t\treturn (this.baseImgUrl + url.replace(/\\\\/g, '/'))\r\n\t\t\t},\r\n\t\t\t// 手指接触进度条触发\r\n\t\t\tdragstart(){\r\n\t\t\t\tthis.clearTime();\r\n\t\t\t},\r\n\t\t\t// 拖动音乐播放条回调\r\n\t\t\tsliderChange(data) {\r\n\t\t\t\tthis.value = data.value;\r\n\t\t\t\tif(this.$bgAudioManager){\r\n\t\t\t\t\tconst duration = this.$bgAudioManager.duration;\r\n\t\t\t\t\tthis.$bgAudioManager.seek(this.value / 100 * duration);\r\n\t\t\t\t\t// 获取当前跳转进度\r\n\t\t\t\t\tlet seek = this.value / 100 * duration;\r\n\t\t\t\t\t// 循环歌词\r\n\t\t\t\t\tfor(let i = 0;i < this.songLyric.length;i++){\r\n\t\t\t\t\t\t// 当前播放时间大于 歌词的最后一个时间时\r\n\t\t\t\t\t\tif(seek > this.songLyric[this.songLyric.length - 1].time){\r\n\t\t\t\t\t\t\tthis.lyricIndex = this.songLyric.length - 1;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// 当前歌曲播放时间大于第i个歌词的时间 且小于第i+1 个歌词时间 \r\n\t\t\t\t\t\tif(seek > this.songLyric[i].time && seek < this.songLyric[i+1].time){\r\n\t\t\t\t\t\t\tthis.lyricIndex = i;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// this.sliderInterval();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 计时器\r\n\t\t\tsliderInterval(){\r\n\t\t\t\tclearInterval(this.time);\r\n\t\t\t\tif(this.$bgAudioManager && !this.$bgAudioManager.paused){\r\n\t\t\t\t\tconsole.log('播放音乐计时器开始 + 进度条 + 歌词');\r\n\t\t\t\t\t// 音乐总时长\r\n\t\t\t\t\tconst duration = this.$bgAudioManager.duration;\r\n\t\t\t\t\t// 音乐播放条 和 歌词计时器\r\n\t\t\t\t\tthis.time = setInterval(()=>{\r\n\t\t\t\t\t\t// 当前时长 / 总时长 = 比例 * 100 = 进度条长度\r\n\t\t\t\t\t\tthis.value = this.$bgAudioManager.currentTime / duration * 100;\r\n\t\t\t\t\t\t// 循环歌词\r\n\t\t\t\t\t\tfor(let i = this.lyricIndex;i < this.songLyric.length;i++){\r\n\t\t\t\t\t\t\t// 当前播放时间大于 歌词的最后一个时间时\r\n\t\t\t\t\t\t\tif(this.$bgAudioManager.currentTime > this.songLyric[this.songLyric.length - 1].time){\r\n\t\t\t\t\t\t\t\tthis.lyricIndex = this.songLyric.length - 1;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t// 当前歌曲播放时间大于第i个歌词的时间 且小于第i+1 个歌词时间 \r\n\t\t\t\t\t\t\tif(this.$bgAudioManager.currentTime > this.songLyric[i].time && this.$bgAudioManager.currentTime < this.songLyric[i+1].time){\r\n\t\t\t\t\t\t\t\tthis.lyricIndex = i;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},500)\r\n\t\t\t\t\t\r\n\t\t\t\t}else{\r\n\t\t\t\t\tconsole.log('没播放音乐');\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 清除音乐播放条的定时器\r\n\t\t\tclearTime(){\r\n\t\t\t\tclearInterval(this.time);\r\n\t\t\t},\r\n\t\t\t// 循环播放\r\n\t\t\thandleLoopPlayback(){\r\n\t\t\t\tthis.LoopPlayback = !this.LoopPlayback;\r\n\t\t\t\tif(this.LoopPlayback){\r\n\t\t\t\t\tuni.setStorageSync('LoopPlayback',true)\r\n\t\t\t\t} else{\r\n\t\t\t\t\tuni.removeStorageSync('LoopPlayback')\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 播放音乐是否为喜欢\r\n\t\t\tplayLoveMusic(userId,musicId){\r\n\t\t\t\tconst { playLoveMusic } = this.$api;\r\n\t\t\t\tplayLoveMusic(userId,musicId).then(res=>{\r\n\t\t\t\t\tthis.isLoveMusic = res.isLove;\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 添加喜欢\r\n\t\t\tloveMusic(){\r\n\t\t\t\tconst token = uni.getStorageSync('userToken');\r\n\t\t\t\tif(token){\r\n\t\t\t\t\tconst { changeLoveMusic } = this.$api;\r\n\t\t\t\t\tconst userId = Token.verify(token).data.id;\r\n\t\t\t\t\t// 修改当前播放歌曲喜欢状态\r\n\t\t\t\t\tchangeLoveMusic(userId,this.songDetail.id).then(res=>{\r\n\t\t\t\t\t\tif(res.success){\r\n\t\t\t\t\t\t\tthis.isLoveMusic = !this.isLoveMusic;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t} else{\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl: '../login/login'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\t.detail {\r\n\t\theight: 100vh;\r\n\t\t.container{\r\n\t\t\t// #ifdef H5 || APP-PLUS\r\n\t\t\theight: calc(100vh - 75px);\r\n\t\t\t// #endif\r\n\t\t\tbox-sizing: border-box;\r\n\t\t\toverflow: hidden;\r\n\t\t\tscroll-view {\r\n\t\t\t\theight: 100%!important;\r\n\t\t\t\tbox-sizing: border-box;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t.detail-lyric{\r\n\t\t\tfont-size: 32rpx;\r\n\t\t\tline-height: 82rpx;\r\n\t\t\theight: 246rpx;\r\n\t\t\ttext-align: center;\r\n\t\t\toverflow: hidden;\r\n\t\t\tcolor: #6f6e73;\r\n\t\t\tmargin-top: 40rpx;\r\n\t\t\t.detail-lyric-wrap{\r\n\t\t\t\ttransform: 0.5s;\r\n\t\t\t\t.detail-lyric-item{\r\n\t\t\t\t\theight: 82rpx;\r\n\t\t\t\t}\r\n\t\t\t\t.active{\r\n\t\t\t\t\tcolor: white;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t.detail-play {\r\n\t\t\twidth: 580rpx;\r\n\t\t\theight: 580rpx;\r\n\t\t\tbackground: url(~@/static/disc.png);\r\n\t\t\tbackground-size: cover;\r\n\t\t\tmargin: 214rpx auto 0;\r\n\t\t\tposition: relative;\r\n\r\n\t\t\timage {\r\n\t\t\t\tborder-radius: 50%;\r\n\t\t\t\twidth: 370rpx;\r\n\t\t\t\theight: 370rpx;\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\ttop: 0;\r\n\t\t\t\tbottom: 0;\r\n\t\t\t\tleft: 0;\r\n\t\t\t\tright: 0;\r\n\t\t\t\tmargin: auto;\r\n\t\t\t\t// css3关键帧动画\r\n\t\t\t\tanimation: 10s linear move infinite;\r\n\t\t\t\t// 默认关闭动画\r\n\t\t\t\tanimation-play-state: paused;\r\n\t\t\t}\r\n\r\n\t\t\t// 开始动画\r\n\t\t\t.detail-play-run {\r\n\t\t\t\tanimation-play-state: running;\r\n\t\t\t}\r\n\r\n\t\t\t// 关键帧动画\r\n\t\t\t@keyframes move {\r\n\t\t\t\tfrom {\r\n\t\t\t\t\ttransform: rotate(0deg);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tto {\r\n\t\t\t\t\ttransform: rotate(360deg);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\ttext {\r\n\t\t\t\twidth: 100rpx;\r\n\t\t\t\theight: 100rpx;\r\n\t\t\t\tfont-size: 100rpx;\r\n\t\t\t\tcolor: white;\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\ttop: 0;\r\n\t\t\t\tbottom: 0;\r\n\t\t\t\tleft: 0;\r\n\t\t\t\tright: 0;\r\n\t\t\t\tmargin: auto;\r\n\t\t\t}\r\n\r\n\t\t\t.pause-vidio {\r\n\t\t\t\ttransform: rotate(-20deg);\r\n\t\t\t}\r\n\r\n\t\t\tview {\r\n\t\t\t\twidth: 230rpx;\r\n\t\t\t\theight: 360rpx;\r\n\t\t\t\tbackground: url(../../static/needle.png);\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\tleft: 100rpx;\r\n\t\t\t\tright: 0;\r\n\t\t\t\ttop: -200rpx;\r\n\t\t\t\tmargin: auto;\r\n\t\t\t\tbackground-size: cover;\r\n\t\t\t\ttransform: 0.5s;\r\n\t\t\t\ttransform-origin: 10rpx 20rpx;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.playMusic-play {\r\n\t\t\tpadding: 50rpx 30rpx;\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: space-between;\r\n\t\t\t.loveMusic{\r\n\t\t\t\tcolor: #b84343;\r\n\t\t\t}\r\n\t\t\ttext {\r\n\t\t\t\tfont-size: 60rpx;\r\n\t\t\t\tmargin: 0 35rpx;\r\n\t\t\t}\r\n\t\t\ttext:nth-child(3){\r\n\t\t\t\tfont-size: 90rpx;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>\r\ns\n"],"sourceRoot":""}